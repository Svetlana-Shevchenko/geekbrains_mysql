# задание 1

mysql root@localhost:shop2> select * from users as users JOIN orders as orders on users.id = orders.user_id;
+------+--------+---------------+--------------+--------------+------+-----------+--------------+--------------+
| id   | name   | birthday_at   | created_at   | updated_at   | id   | user_id   | created_at   | updated_at   |
|------+--------+---------------+--------------+--------------+------+-----------+--------------+--------------|
+------+--------+---------------+--------------+--------------+------+-----------+--------------+--------------+
0 rows in set
Time: 0.001s
mysql root@localhost:shop2> SELECT * from users;
+------+-----------+---------------+---------------------+---------------------+
|   id | name      | birthday_at   | created_at          | updated_at          |
|------+-----------+---------------+---------------------+---------------------|
|    1 | Геннадий  | 1990-10-05    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
|    2 | Наталья   | 1984-11-12    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
|    3 | Александр | 1985-05-20    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
|    4 | Сергей    | 1988-02-14    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
|    5 | Иван      | 1998-01-12    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
|    6 | Мария     | 1992-08-29    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |
+------+-----------+---------------+---------------------+---------------------+
6 rows in set
Time: 0.004s
mysql root@localhost:shop2> INSERT INTO orders (user_id) VALUES (3);
Query OK, 1 row affected
Time: 0.007s
mysql root@localhost:shop2> select * from users as users JOIN orders as orders on users.id = orders.user_id;
+------+-----------+---------------+---------------------+---------------------+------+-----------+---------------------+---------------------+
|   id | name      | birthday_at   | created_at          | updated_at          |   id |   user_id | created_at          | updated_at          |
|------+-----------+---------------+---------------------+---------------------+------+-----------+---------------------+---------------------|
|    3 | Александр | 1985-05-20    | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    1 |         3 | 2020-02-15 20:28:07 | 2020-02-15 20:28:07 |
+------+-----------+---------------+---------------------+---------------------+------+-----------+---------------------+---------------------+
1 row in set
Time: 0.002s

# задание 2

mysql root@localhost:shop2> select * from products as p join catalogs as c on p.catalog_id = c.id;
+------+-------------------------+-----------------------------------------------------------------------------------+---------+--------------+---------------------+---------------------+------+-------------------+
|   id | name                    | description                                                                       |   price |   catalog_id | created_at          | updated_at          |   id | name              |
|------+-------------------------+-----------------------------------------------------------------------------------+---------+--------------+---------------------+---------------------+------+-------------------|
|    1 | Intel Core i3-8100      | Процессор для настольных персональных компьютеров, основанных на платформе Intel. |    7890 |            1 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    1 | Процессоры        |
|    2 | Intel Core i5-7400      | Процессор для настольных персональных компьютеров, основанных на платформе Intel. |   12700 |            1 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    1 | Процессоры        |
|    3 | AMD FX-8320E            | Процессор для настольных персональных компьютеров, основанных на платформе AMD.   |    4780 |            1 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    1 | Процессоры        |
|    4 | AMD FX-8320             | Процессор для настольных персональных компьютеров, основанных на платформе AMD.   |    7120 |            1 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    1 | Процессоры        |
|    5 | ASUS ROG MAXIMUS X HERO | Материнская плата ASUS ROG MAXIMUS X HERO, Z370, Socket 1151-V2, DDR4, ATX        |   19310 |            2 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    2 | Материнские платы |
|    6 | Gigabyte H310M S2H      | Материнская плата Gigabyte H310M S2H, H310, Socket 1151-V2, DDR4, mATX            |    4790 |            2 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    2 | Материнские платы |
|    7 | MSI B250M GAMING PRO    | Материнская плата MSI B250M GAMING PRO, B250, Socket 1151, DDR4, mATX             |    5060 |            2 | 2020-02-15 18:01:07 | 2020-02-15 18:01:07 |    2 | Материнские платы |
+------+-------------------------+-----------------------------------------------------------------------------------+---------+--------------+---------------------+---------------------+------+-------------------+
7 rows in set
Time: 0.005s
mysql root@localhost:shop2>


# задание 3

mysql root@localhost:shop2> CREATE TABLE flights (
                         ->   id SERIAL PRIMARY KEY,
                         ->   from_target VARCHAR(255),
                         ->   to_target VARCHAR(255)
                         ->   );
Query OK, 0 rows affected
Time: 0.065s

mysql root@localhost:shop2> CREATE TABLE cities (
                         ->   id SERIAL PRIMARY KEY,
                         ->   label VARCHAR(255),
                         ->   name VARCHAR(255)
                         ->   );
Query OK, 0 rows affected
Time: 0.063s

mysql root@localhost:shop2> INSERT INTO flights (from_target, to_target) VALUES ( 'MSK', 'CDG' );
Query OK, 1 row affected
Time: 0.015s
mysql root@localhost:shop2> INSERT INTO flights (from_target, to_target) VALUES ( 'MSK', 'TXL' );
Query OK, 1 row affected
Time: 0.014s
mysql root@localhost:shop2> INSERT INTO flights (from_target, to_target) VALUES ( 'MSK', 'LPA' );
Query OK, 1 row affected
Time: 0.014s
mysql root@localhost:shop2> INSERT INTO cities (label, name) VALUES ('MSK', 'Москва'), ('CDG','Шэр-деголь, Париж'), ('TXL', 'Берлин-Тегель, Париж'), ('LPA', 'Гран-Канария, Морискос' ) ;
Query OK, 4 rows affected
Time: 0.017s

mysql root@localhost:shop2> SELECT f.id, c.name, c2.name FROM flights AS f
                         ->   JOIN cities AS c
                         ->     ON f.from_target = c.label
                         ->   JOIN cities AS c2
                         ->     on f.to_target = c2.label
                         ->     ;
------+--------+------------------------+
|   id | name   | name                   |
|------+--------+------------------------|
|    1 | Москва | Шэр-деголь, Париж      |
|    2 | Москва | Берлин-Тегель, Париж   |
|    3 | Москва | Гран-Канария, Морискос |
+------+--------+------------------------+
3 rows in set
Time: 0.003s
